parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({3:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.$_=o,exports.$_ready=l;var i=function(){function i(e){if(n(this,i),"string"==typeof e)this.collection=document.querySelectorAll(e),this.length=this.collection.length;else if(e instanceof NodeList)this.collection=e,this.length=e.length;else{if("object"!=(void 0===e?"undefined":t(e)))return null;e.length>=1?this.collection=e:this.collection=[e],this.length=this.collection.length}}return e(i,[{key:"hide",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=this.collection[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.style.display="none"}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block",e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.style.display=t}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"addClass",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.classList.add(t)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"removeClass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.classList.remove(t)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}else{var r=!0,c=!1,a=void 0;try{for(var u,f=this.collection[Symbol.iterator]();!(r=(u=f.next()).done);r=!0)for(var s=u.value;s.classList.length>0;)s.classList.remove(s.classList.item(0))}catch(t){c=!0,a=t}finally{try{!r&&f.return&&f.return()}finally{if(c)throw a}}}}},{key:"toggleClass",value:function(t){t=t.split(" ");var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0)for(var r=o.value,c=0;c<t.length;c++)r.classList.toggle(t[c])}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"hasClass",value:function(t){if(this.collection[0])for(var e=0;e<this.collection[0].classList.length;e++)if(this.collection[0].classList[e]==t)return!0;return!1}},{key:"value",value:function(t){if(this.length>0){if(void 0===t)return this.collection[0].value;this.collection[0].value=t}}},{key:"focus",value:function(){this.length>0&&this.collection[0].focus()}},{key:"click",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.addEventListener("click",t,!1)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"keyup",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.addEventListener("keyup",t,!1)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"keydown",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.addEventListener("keydown",t,!1)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"submit",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.addEventListener("submit",t,!1)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"change",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.addEventListener("change",t,!1)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"scroll",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.addEventListener("scroll",t,!1)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"on",value:function(t,e,n){t=t.split(" ");var i=!0,l=!1,r=void 0;try{for(var c,a=this.collection[Symbol.iterator]();!(i=(c=a.next()).done);i=!0)for(var u=c.value,f=0;f<t.length;f++)"function"==typeof e?u.addEventListener(t[f],e,!1):"string"==typeof e&&"function"==typeof n&&u.addEventListener(t[f],function(t){t.target&&o(t.target).matches(e)&&n.call(t.target,t)},!1)}catch(t){l=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(l)throw r}}}},{key:"filter",value:function(t){if(this.length>0)return new i(this.collection[0].querySelector(t))}},{key:"data",value:function(t,e){if(this.length>0){if(void 0===e)return this.collection[0].dataset[t];this.collection[0].dataset[t]=e}}},{key:"text",value:function(t){if(this.length>0){if(void 0===t)return this.collection[0].textContent;this.collection[0].textContent=t}}},{key:"html",value:function(t){if(this.length>0){if(void 0===t)return this.collection[0].innerHTML;this.collection[0].innerHTML=t}}},{key:"append",value:function(t){if(this.length>0){var e=document.createElement("div");e.innerHTML="string"==typeof t?t.trim():t,this.collection[0].appendChild(e.firstChild)}}},{key:"prepend",value:function(t){if(this.length>0){var e=document.createElement("div");e.innerHTML="string"==typeof t?t.trim():t,this.collection[0].childNodes.length>0?this.collection[0].insertBefore(e.firstChild,this.collection[0].childNodes[0]):this.collection[0].appendChild(e.firstChild)}}},{key:"each",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){t(o.value)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"get",value:function(t){return this.collection[t]}},{key:"first",value:function(){if(this.length>0)return new i(this.collection[0])}},{key:"isVisible",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=this.collection[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;if("none"!=l.display&&l.offsetWidth>0&&l.offsetHeight>0)return!0}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}return!1}},{key:"parent",value:function(){if(this.collection[0])return new i(this.collection[0].parentElement)}},{key:"find",value:function(t){if(this.collection[0])return new i(this.collection[0].querySelectorAll(t))}},{key:"offset",value:function(){if(this.collection[0]){var t=this.collection[0].getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}}},{key:"closest",value:function(t){for(var e=this.find(t);void 0===e.get(0)&&void 0!==this.parent().get(0);)e=this.parent().find(t);return e}},{key:"attribute",value:function(t,e){if(this.collection[0]){if(void 0!==e)return this.collection[0].setAttribute(t,e);this.collection[0].getAttribute(t)}}},{key:"after",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.insertAdjacentHTML("afterend",t)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"before",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,l=this.collection[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.insertAdjacentHTML("beforebegin",t)}}catch(t){n=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}},{key:"style",value:function(e,n){for(var i=0;i<this.collection.length;i++)if("string"==typeof e&&"undefined"!==n)this.collection[i].style[e]=n;else{if("string"==typeof e&&"undefined"===n)return this.collection[i].style[e];if("object"===(void 0===e?"undefined":t(e)))for(var o in e)this.collection[i].style[o]=e[o]}}},{key:"animate",value:function(t,e){for(var n=this,i=function(i){var o=function(o){var l=(new Date).getTime(),r=n.collection,c=void 0,a=void 0;void 0!==n.collection[i].style[o]?(a=n.collection[i].style[o],c=setInterval(function(){var n=Math.min(1,((new Date).getTime()-l)/e);r[i].style[o]=a+n*(t[o]-a),1==n&&clearInterval(c)},25),n.collection[i].style[o]=a):void 0!==n.collection[i][o]&&(a=n.collection[i][o],c=setInterval(function(){var n=Math.min(1,((new Date).getTime()-l)/e);r[i][o]=a+n*(t[o]-a),1==n&&clearInterval(c)},25),n.collection[i][o]=a)};for(var l in t)o(l)},o=0;o<this.collection.length;o++)i(o)}},{key:"fadeIn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,e=arguments[1];if(this.collection[0]){var n=this.collection[0];n.style.opacity=0;var i=+new Date;!function o(){n.style.opacity=+n.style.opacity+(new Date-i)/t,i=+new Date,+n.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):"function"==typeof e&&e()}()}}},{key:"fadeOut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,e=arguments[1];if(this.collection[0]){var n=+new Date,i=this.collection[0];!function o(){i.style.opacity=+i.style.opacity-(new Date-n)/t,n=+new Date,+i.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):"function"==typeof e&&e()}()}}},{key:"matches",value:function(t){var e=Element.prototype;return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(this.collection[0],t)}},{key:"remove",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=this.collection[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;l.parentNode.removeChild(l)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}},{key:"replaceWith",value:function(t){var e=document.createElement("div");e.innerHTML=t,this.collection[0].parentElement.replaceChild(e,this.collection[0])}},{key:"reset",value:function(){this.length>0&&this.collection[0].reset()}},{key:"property",value:function(t,e){if(this.collection[0]){if(void 0===e)return this.collection[0][t];this.collection[0][t]=e}}}]),i}();function o(t){return void 0!==t?new i(t):i}function l(t){window.addEventListener("load",t)}exports.DOM=i;
},{}],13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=exports.Request=function(){function t(){n(this,t)}return e(t,null,[{key:"serialize",value:function(e){return Object.keys(e).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(e[n])}).join("&")}},{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.serialize(n);return""!==o&&(e=e+"?"+o),fetch(e,r)}},{key:"post",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0;if(void 0!==r.headers){var i=r.headers["Content-Type"];if(void 0!==i)if("multipart/form-data"==i)for(var a in o=new FormData,n)o.append(a,n[a]);else o="application/json"==i?JSON.stringify(n):t.serialize(n)}else o=t.serialize(n);return fetch(e,Object.assign({},{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}},r))}},{key:"put",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.post(e,n,Object.assign({},{method:"PUT"},r))}},{key:"delete",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.get(e,n,Object.assign({},{method:"DELETE"},r))}},{key:"json",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.get(e,n,r).then(function(e){return e.json()})}},{key:"blob",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.get(e,n,r).then(function(e){return e.blob()})}}]),t}();
},{}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileSystem=void 0;var e=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),r=require("./Request");function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var t=exports.FileSystem=function(){function t(){n(this,t)}return e(t,null,[{key:"readRemote",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base64",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.Request.blob(e,{},o).then(function(e){return t.read(e,n)})}},{key:"read",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(n,t){var o=new FileReader;o.onload=function(e){n(e,e.target.result)},o.onerror=function(e){t(e)},"base64"===r?o.readAsDataURL(e):"buffer"===r?o.readAsArrayBuffer(e):o.readAsText(e,"UTF-8")})}},{key:"create",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain";return Promise.resolve(new File([r],e,{type:n}))}}]),t}();
},{"./Request":13}],7:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Form=void 0;var e=function(){function e(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,a,n){return a&&e(r.prototype,a),n&&e(r,n),r}}(),r=require("./DOM");function a(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var n=exports.Form=function(){function n(){a(this,n)}return e(n,null,[{key:"fill",value:function(e,a){for(var n in a){var t=(0,r.$_)("form[data-form='"+e+"'] [name='"+n+"']").get(0);if(void 0!==t)switch(t.type){case"file":case"file[]":break;default:t.value=a[n]}}}},{key:"values",value:function(e){var a={};return(0,r.$_)("form[data-form='"+e+"'] [name]").each(function(e){var r=void 0;switch(e.type){case"file[]":r=e.files;break;case"file":r=e.files[0];break;default:r=e.value}null!=r&&(a[e.name]=r)}),a}}]),n}();
},{"./DOM":3}],9:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,r,a){return r&&e(n.prototype,r),a&&e(n,a),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r=exports.Platform=function(){function r(){n(this,r)}return e(r,null,[{key:"retina",value:function(){return window.devicePixelRatio>=2}},{key:"portrait",value:function(){return window.innerHeight>window.innerWidth}},{key:"landscape",value:function(){return 90===window.orientation||-90===window.orientation}},{key:"orientation",value:function(){return r.portrait()?"portrait":"landscape"}},{key:"electron",value:function(){return window&&window.process&&window.process.type}},{key:"cordova",value:function(){return!!window.cordova}},{key:"desktop",value:function(){var e=!1;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Any"){case"Windows":e=navigator.platform.includes("Win");break;case"macOS":e=navigator.platform.includes("Mac");break;case"Linux":e=navigator.platform.includes("Linux");break;case"FreeBSD":e=navigator.platform.includes("FreeBSD");break;case"webOS":e=navigator.platform.includes("WebTV");break;case"Any":default:e=navigator.platform.includes("Win")||navigator.platform.includes("Mac")||navigator.platform.includes("Linux")||navigator.platform.includes("FreeBSD")||navigator.platform.includes("WebTV")}return e}},{key:"mobile",value:function(){var e=!1;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Any"){case"Android":e=/Android/i.test(navigator.userAgent);break;case"iOS":e=/iPhone|iPad|iPod/i.test(navigator.userAgent);break;case"Opera":e=/Opera Mini/i.test(navigator.userAgent);break;case"Windows":e=/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent);break;case"BlackBerry":e=/BlackBerry|BB10/i.test(navigator.userAgent);break;case"Any":default:e=/Android|iPhone|iPad|iPod|Windows Phone|IEMobile|WPDesktop|BlackBerry|BB10/i.test(navigator.userAgent)}return e}},{key:"serviceWorkers",value:function(){return"undefined"!=typeof navigator&&"serviceWorker"in navigator&&location.protocol.indexOf("http")>-1}}]),r}();
},{}],11:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Preload=void 0;var e=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),n=require("./Request");function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=exports.Preload=function(){function t(){r(this,t)}return e(t,null,[{key:"image",value:function(e){return new Promise(function(n,r){var t=new Image;t.onload=function(){n(t)},t.onerror=function(e){r(e)},t.src=e})}},{key:"file",value:function(e){return n.Request.blob(e)}}]),t}();
},{"./Request":13}],21:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=exports.LocalStorage=function(){function n(e){var t=e.name,o=void 0===t?"":t,i=e.version,u=void 0===i?"":i,a=e.store,s=void 0===a?"":a;r(this,n),this.name=o,this.version=u,this.store=s,""===this.version?this.numericVersion=0:this.numericVersion=parseInt(u.replace(/\./g,"")),this.id=""!==o&&""!==u&&""!==s?this.name+"::"+this.store+"::"+this.version+"_":""!==o&&""!==u?this.name+"::"+this.version+"_":""!==o?this.name+"::_":""}return t(n,[{key:"open",value:function(){return void 0===this.storage&&(this.storage=window.localStorage),Promise.resolve(this)}},{key:"set",value:function(t,r){var n=this;return this.open().then(function(){return"object"===(void 0===r?"undefined":e(r))?n.storage.setItem(n.id+t,JSON.stringify(r)):n.storage.setItem(n.id+t,r),Promise.resolve({key:t,value:r})})}},{key:"update",value:function(t,r){var n=this;return this.get(t).then(function(o){return"object"===(void 0===o?"undefined":e(o))&&"object"===(void 0===r?"undefined":e(r))&&(r=Object.assign({},o,r)),n.storage.setItem(n.id+t,r),Promise.resolve({key:t,value:r})})}},{key:"get",value:function(t){var r=this;return this.open().then(function(){return new Promise(function(n,o){var i=null;i=r.storage.getItem(r.id+t);try{var u=JSON.parse(i);u&&"object"===(void 0===u?"undefined":e(u))&&(i=u)}catch(e){}null!=i?n(i):o()})})}},{key:"getAll",value:function(){var e=this;return this.keys().then(function(t){var r={},n=[],o=function(t){n.push(e.get(t).then(function(e){r[t]=e}))},i=!0,u=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){o(s.value)}}catch(e){u=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(u)throw a}}return Promise.all(n).then(function(){return r})})}},{key:"contains",value:function(e){return this.keys().then(function(t){if(!t.includes(e))return Promise.reject();Promise.resolve()})}},{key:"upgrade",value:function(t,r){var n=this;return this.open().then(function(){n.version!==r&&(n.version=r);var o=Object.keys(n.storage).filter(function(e){return 0===e.indexOf(n.name+"::"+t+"_")}).map(function(e){return e.replace(n.name+"::"+t+"_","")}),i=[],u=function(r){var o=n.storage.getItem(n.name+"::"+t+"_"+r);try{var u=JSON.parse(o);u&&"object"===(void 0===u?"undefined":e(u))&&(o=u)}catch(e){}return i.push(n.set(r,o).then(function(){return n.storage.removeItem(n.name+"::"+t+"_"+r)})),{v:Promise.all(i)}},a=!0,s=!1,c=void 0;try{for(var l,v=o[Symbol.iterator]();!(a=(l=v.next()).done);a=!0){var f=u(l.value);if("object"===(void 0===f?"undefined":e(f)))return f.v}}catch(e){s=!0,c=e}finally{try{!a&&v.return&&v.return()}finally{if(s)throw c}}return Promise.reject()})}},{key:"rename",value:function(e){var t=this;return this.name!==e?this.keys().then(function(r){var n=t.id;t.name=e,t.id=t.name+"::"+t.version+"_";var o=[],i=function(e){o.push(t.set(e,t.storage.getItem(""+n+e)).then(function(){t.storage.removeItem(""+n+e)}))},u=!0,a=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(u=(c=l.next()).done);u=!0){i(c.value)}}catch(e){a=!0,s=e}finally{try{!u&&l.return&&l.return()}finally{if(a)throw s}}return Promise.all(o)}):Promise.reject()}},{key:"key",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.open().then(function(){return!0===r?Promise.resolve(t.storage.key(e)):Promise.resolve(t.storage.key(e).replace(t.id,""))})}},{key:"keys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.open().then(function(){return Promise.resolve(Object.keys(e.storage).filter(function(t){return 0===t.indexOf(e.id)}).map(function(r){return!0===t?r:r.replace(e.id,"")}))})}},{key:"remove",value:function(e){var t=this;return this.get(e).then(function(r){return t.storage.removeItem(t.id+e),Promise.resolve(r)})}},{key:"clear",value:function(){var e=this;return this.keys().then(function(t){var r=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var a=i.value;e.remove(a)}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}return Promise.resolve()})}}]),n}();
},{}],23:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionStorage=void 0;var e=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),t=require("./LocalStorage");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=exports.SessionStorage=function(i){function s(e){var t=e.name,n=void 0===t?"":t,i=e.version,a=void 0===i?"":i,u=e.store,c=void 0===u?"":u;return o(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,{name:n,version:a,store:c}))}return n(s,t.LocalStorage),e(s,[{key:"open",value:function(){return void 0===this.storage&&(this.storage=window.sessionStorage),Promise.resolve(this)}}]),s}();
},{"./LocalStorage":21}],25:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=exports.IndexedDB=function(){function r(e){var n=e.name,o=void 0===n?"":n,s=e.version,i=void 0===s?"":s,a=e.store,u=void 0===a?"":a,c=e.props,d=void 0===c?{}:c,f=e.index,v=void 0===f?{}:f;t(this,r),this.name=o,this.version=i,this.store=u,this.props=d,this.index=v,this.upgrades={},""===this.version?this.numericVersion=0:this.numericVersion=parseInt(i.replace(/\./g,""))}return e(r,[{key:"open",value:function(){var e=this;return""===this.name?(console.error("No name has been defined for IndexedDB space."),Promise.reject()):""===this.store?(console.error("No store has been defined for IndexedDB space."),Promise.reject()):this.storage instanceof IDBDatabase?Promise.resolve(this):this.storage instanceof Promise?this.storage:(this.storage=new Promise(function(t,r){var n=window.indexedDB.open(e.name,e.numericVersion);n.onerror=function(e){r(e)},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(r){if(r.oldVersion<1){var n=r.target.result.createObjectStore(e.store,e.props),o=!0,s=!1,i=void 0;try{for(var a,u=Object.keys(e.index)[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value;n.createIndex(e.index[c].name,e.index[c].field,e.index[c].props)}}catch(e){s=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw i}}}else"function"==typeof e.upgrades[r.newVersion]&&e.upgrades[r.newVersion].call(e,r);r.target.transaction.addEventListener("success",function(){t(r.target.result)})}}).then(function(t){return e.storage=t,Promise.resolve(e)}),this.storage)}},{key:"set",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments[1];return this.open().then(function(){return new Promise(function(n,o){var s=e.storage.transaction(e.store,"readwrite").objectStore(e.store),i=void 0;(i=null!==t?s.put(Object.assign({},{id:t},r)):s.add(r)).addEventListener("success",function(e){n({key:e.target.result,value:r})}),i.addEventListener("error",function(e){o(e)})})})}},{key:"update",value:function(e,t){var r=this;return this.get(e).then(function(e){return new Promise(function(n,o){var s=r.storage.transaction(r.store,"readwrite").objectStore(r.store).put(Object.assign({},e,t));s.addEventListener("success",function(e){n({key:e.target.result,value:t})}),s.addEventListener("error",function(e){o(e)})})})}},{key:"get",value:function(e){var t=this;return this.open().then(function(){return new Promise(function(r,n){var o=t.storage.transaction(t.store).objectStore(t.store).get(e);o.addEventListener("success",function(e){r(e.target.result)}),o.addEventListener("error",function(e){n(e)})})})}},{key:"getAll",value:function(){var e=this;return this.open().then(function(){return new Promise(function(t,r){var n=e.storage.transaction(e.store).objectStore(e.store).getAll();n.addEventListener("success",function(e){t(e.target.result)}),n.addEventListener("error",function(e){r(e)})})})}},{key:"contains",value:function(e){return this.get(e).then(function(t){if(!t.includes(e))return Promise.reject();Promise.resolve()})}},{key:"upgrade",value:function(e,t){return this.upgrades[parseInt(e.replace(/\./g,""))]=t,Promise.resolve()}},{key:"rename",value:function(){return Promise.reject()}},{key:"key",value:function(){return Promise.reject()}},{key:"keys",value:function(){var e=this;return this.open().then(function(){return new Promise(function(t,r){var n=e.storage.transaction(e.store,"readwrite").objectStore(e.store).keys();n.addEventListener("success",function(e){t(e.target.result)},!1),n.addEventListener("error",function(e){r(e)},!1)})})}},{key:"remove",value:function(e){var t=this;return this.get(e).then(function(r){return new Promise(function(n,o){var s=t.storage.transaction(t.store,"readwrite").objectStore(t.store).delete(e);s.addEventListener("success",function(){n(r)},!1),s.addEventListener("error",function(e){o(e)},!1)})})}},{key:"clear",value:function(){var e=this;return this.open().then(function(){return new Promise(function(t,r){var n=e.storage.transaction(e.store,"readwrite").objectStore(e.store).clear();n.addEventListener("success",function(){t()},!1),n.addEventListener("error",function(e){r(e)},!1)})})}}]),r}();
},{}],27:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemoteStorage=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("./../Request");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=exports.RemoteStorage=function(){function r(e){var t=e.name,o=void 0===t?"":t,i=e.version,s=void 0===i?"":i,u=e.store,a=void 0===u?"":u,p=e.endpoint,c=void 0===p?"":p,v=e.props,f=void 0===v?{}:v;n(this,r),this.name=o,this.version=s,this.store=a,this.endpoint=""+c+a+"/",this.props=f}return e(r,[{key:"open",value:function(){return void 0===this.storage&&(this.storage=t.Request),Promise.resolve(this)}},{key:"set",value:function(e,t){var n=this;return this.open().then(function(){return n.storage.post(n.endpoint+e,t,n.props)})}},{key:"update",value:function(e,t){var n=this;return this.get(e).then(function(r){return n.storage.put(n.endpoint+e,Object.assign({},r,t),n.props).then(function(e){return e.json()})})}},{key:"get",value:function(e){var t=this;return this.open().then(function(){return t.storage.json(t.endpoint+e,{},t.props)})}},{key:"getAll",value:function(){var e=this;return this.open().then(function(){return e.storage.json(e.endpoint,{},e.props)})}},{key:"contains",value:function(e){return this.keys().then(function(t){if(!t.includes(e))return Promise.reject();Promise.resolve()})}},{key:"upgrade",value:function(){return Promise.reject()}},{key:"rename",value:function(){return Promise.reject()}},{key:"key",value:function(){return Promise.reject()}},{key:"keys",value:function(){var e=this;return this.open().then(function(){return e.storage.json(e.endpoint,{keys:!0},e.props)})}},{key:"remove",value:function(e){var t=this;return this.open().then(function(){return t.storage.delete(t.endpoint+e,{},t.props).then(function(t){return Promise.resolve(e,t.json())})})}},{key:"clear",value:function(){var e=this;return this.open().then(function(){return e.storage.delete(e.endpoint,{},e.props)})}}]),r}();
},{"./../Request":13}],15:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Space=exports.SpaceAdapter=void 0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),e=require("./SpaceAdapter/LocalStorage"),r=require("./SpaceAdapter/SessionStorage"),a=require("./SpaceAdapter/IndexedDB"),n=require("./SpaceAdapter/RemoteStorage");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=exports.SpaceAdapter={LocalStorage:e.LocalStorage,SessionStorage:r.SessionStorage,IndexedDB:a.IndexedDB,RemoteStorage:n.RemoteStorage},l=exports.Space=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.LocalStorage,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.configuration=Object.assign({},{name:"",version:"",store:""},r),this.adapter=new t(this.configuration),this.callbacks={create:[],update:[],delete:[]},this.transformations={}}return t(e,[{key:"configuration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t)return this.configuration;this.configuration=Object.assign({},this.configuration,t),this.adapter.configuration(t)}},{key:"open",value:function(){var t=this;return this.adapter.open().then(function(){return Promise.resolve(t)})}},{key:"set",value:function(t,e){var r=this,a=!0,n=!1,o=void 0;try{for(var i,l=Object.keys(this.transformations)[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var u=i.value;"function"==typeof this.transformations[u].set&&(e=this.transformations[u].set.call(null,t,e))}}catch(t){n=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return this.adapter.set(t,e).then(function(t){var e=t.key,a=t.value,n=!0,o=!1,i=void 0;try{for(var l,u=r.callbacks.create[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){l.value.call(null,e,a)}}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return Promise.resolve({key:e,value:a})})}},{key:"update",value:function(t,e){var r=this,a=!0,n=!1,o=void 0;try{for(var i,l=Object.keys(this.transformations)[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var u=i.value;"function"==typeof this.transformations[u].set&&(e=this.transformations[u].set.call(null,t,e))}}catch(t){n=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return this.adapter.update(t,e).then(function(t){var e=t.key,a=t.value,n=!0,o=!1,i=void 0;try{for(var l,u=r.callbacks.update[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){l.value.call(null,e,a)}}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return Promise.resolve({key:e,value:a})})}},{key:"get",value:function(t){var e=this;return this.adapter.get(t).then(function(r){var a=!0,n=!1,o=void 0;try{for(var i,l=Object.keys(e.transformations)[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var u=i.value;"function"==typeof e.transformations[u].get&&(r=e.transformations[u].get.call(null,t,r))}}catch(t){n=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return r})}},{key:"getAll",value:function(){var t=this;return this.adapter.getAll().then(function(e){var r=!0,a=!1,n=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,u=!0,s=!1,c=void 0;try{for(var f,v=Object.keys(t.transformations)[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var y=f.value;"function"==typeof t.transformations[y].get&&(e[l]=t.transformations[y].get.call(null,l,e[l]))}}catch(t){s=!0,c=t}finally{try{!u&&v.return&&v.return()}finally{if(s)throw c}}}}catch(t){a=!0,n=t}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}return e})}},{key:"each",value:function(t){var e=this;return this.getAll().then(function(r){var a=[],n=!0,o=!1,i=void 0;try{for(var l,u=Object.keys(r)[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var s=l.value;a.push(t.call(e,s,r[s]))}}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return Promise.all(a)})}},{key:"contains",value:function(t){return this.adapter.contains(t)}},{key:"upgrade",value:function(t,e){var r=this;return this.adapter.upgrade(t,e).then(function(){return Promise.resolve(r)})}},{key:"rename",value:function(t){return this.adapter.rename(t)}},{key:"onCreate",value:function(t){this.callbacks.create.push(t)}},{key:"onUpdate",value:function(t){this.callbacks.update.push(t)}},{key:"onDelete",value:function(t){this.callbacks.delete.push(t)}},{key:"addTransformation",value:function(t){var e=t.id,r=t.get,a=t.set;this.transformations[e]={id:e,get:r,set:a}}},{key:"removeTransformation",value:function(t){delete this.transformations[t]}},{key:"key",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.adapter.key(t,e)}},{key:"keys",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.adapter.keys(t)}},{key:"remove",value:function(t){var e=this;return this.adapter.remove(t).then(function(r){var a=!0,n=!1,o=void 0;try{for(var i,l=e.callbacks.delete[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){i.value.call(null,t,r)}}catch(t){n=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}})}},{key:"clear",value:function(){return this.adapter.clear()}}]),e}();
},{"./SpaceAdapter/LocalStorage":21,"./SpaceAdapter/SessionStorage":23,"./SpaceAdapter/IndexedDB":25,"./SpaceAdapter/RemoteStorage":27}],17:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=exports.Text=function(){function t(){n(this,t)}return e(t,null,[{key:"capitalize",value:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},{key:"suffix",value:function(e,n){var t="",r=n.indexOf(e);return-1!==r&&(r+=e.length,t=n.substr(r,n.length-r)),t}},{key:"selection",value:function(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:void 0}},{key:"prefix",value:function(e,n){var t="",r=n.indexOf(e);return-1!=r&&(t=n.substr(0,r)),t}},{key:"friendly",value:function(e){var n=[/[áàâãªä]/,/[ÁÀÂÃÄ]/,/[ÍÌÎÏ]/,/[íìîï]/,/[éèêë]/,/[ÉÈÊË]/,/[óòôõºö]/,/[ÓÒÔÕÖ]/,/[úùûü]/,/[ÚÙÛÜ]/,/ç/,/Ç/,/ñ/,/Ñ/,/_/,/[’‘‹›<>']/,/[“”«»„"]/,/[(){}[\]]/,/[?¿!¡#$%&^*´`~\/°|]/,/[,.:;]/,/ /],t=["a","A","I","i","e","E","o","O","u","U","c","C","n","N","-","","","","","","-"];for(var r in n)e=e.replace(new RegExp(n[r],"g"),t[r]);return e}}]),t}();
},{}],19:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r=exports.Util=function(){function r(){n(this,r)}return e(r,null,[{key:"callAsync",value:function(e,n){for(var r=arguments.length,t=Array(r>2?r-2:0),o=2;o<r;o++)t[o-2]=arguments[o];return new Promise(function(r,o){try{var a=e.apply(n,t);if(a instanceof Promise)return a;r(a)}catch(e){o(e)}})}}]),r}();
},{}],1:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./src/DOM");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./src/FileSystem");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./src/Form");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./src/Platform");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./src/Preload");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./src/Request");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./src/Space");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./src/Text");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var s=require("./src/Util");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});
},{"./src/DOM":3,"./src/FileSystem":5,"./src/Form":7,"./src/Platform":9,"./src/Preload":11,"./src/Request":13,"./src/Space":15,"./src/Text":17,"./src/Util":19}]},{},[1], "Artemis")
//# sourceMappingURL=/artemis.min.map