<!DOCTYPE html>

<html>
	<head>
		<title>Skrifa</title>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<meta name="description" content="A simple word processor built with web technologies.">

		<link rel="shortcut icon" href="img/favicon.ico"/>

		<!-- Import Third Party, Frameworks and Fonts Stylesheets -->
		<link type="text/css" rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">
		<link type="text/css" rel="stylesheet" href="style/kayros.css"/>

		<!-- Import Core Stylesheets -->
		<link type="text/css" rel="stylesheet" href="style/main.css"/>
		<link type="text/css" rel="stylesheet" href="style/prism.css"/>

		<!-- Import Themes Stylesheets -->
		<link type="text/css" rel="stylesheet" href="style/themes/light.css"/>
		<link type="text/css" rel="stylesheet" href="style/themes/dark.css"/>
		<link type="text/css" rel="stylesheet" href="style/themes/ghost.css"/>


		<!-- Import Third Party Scripts that can't be loaded via require -->
		<script src="js/prism.js"></script>
		<script src="node_modules/keyboardjs/dist/keyboard.min.js"></script>
		<script src="node_modules/mathjax/MathJax.js?config=TeX-MML-AM_CHTML"></script>

		<!-- Import Core Scripts -->
		<script src="js/artemis.js"></script>
		<script src="js/conf.js"></script>
		<script src="js/app.js"></script>
		<script src="js/keyboard-events.js"></script>
		<script src="js/login.js"></script>
		<script src="js/key.js"></script>
		<script src="js/offline-key.js"></script>
		<script src="js/encrypt-key.js"></script>
		<script src="js/decrypt.js"></script>
		<script src="js/notes.js"></script>
		<script src="js/new-notebook.js"></script>
		<script src="js/edit-notebook.js"></script>
		<script src="js/delete-notebook.js"></script>
		<script src="js/settings.js"></script>
		<script src="js/editor.js"></script>
		<script src="js/preview.js"></script>
		<script src="js/export-note.js"></script>
		<script src="js/share.js"></script>
		<script src="js/pgp-message.js"></script>
	</head>
	<body class="light">

		<section data-view="loading">
			<div class="middle align-center">
				<img src="img/skrifa.svg">
				<h2 class="padded-2">Loading</h2>
			</div>
		</section>

		<section class="active align-center" data-view="login">
			<h1>Welcome to Skrifa!</h1>
			<p class="padded-2">Skrifa is a step towards <b>taking your privacy back</b>, to make this happen all your notes are <b>encrypted using a PGP key and saved locally</b>, please pick the option that matches your preferences best.</p>
				<div class="row md-depth-2">
					<div class="col s12 m6 padded-1">

						<form method="post" data-form="login" class="vertical align-center padded-2">
							<h2>Log In</h2>
							<p>If you want to keep your key backed up online you can create an account at <a href="https://skrifa.xyz/#Register" target="_blank">skrifa.xyz</a>, your key will be stored encrypted with a passphrase of your own. This is recommended for most users.</p>
							<label>User Name:</label>
							<input type="text" name="user" placeholder="User" required="true">
							<label>Password:</label>
							<input type="password" placeholder="Password" name="password" required="true">
							<button type="submit">Log In</button>
							<span data-content="status"></span>
						</form>
					</div>
					<div class="col s12 m6">
						<form method="post" data-form="local-key" class="align-center padded-2">
							<h2>Use Local PGP Key</h2>
							<p>If you don't trust your key to anyone even if it's encrypted, you can keep it offline, just remember you'll be resposible for keeping it safe. Please create a new key if you don't have one or import it if you've previously created one.</p>
							<button data-action="new-offline-key">Create new Key</button>
							<button data-action="import-offline-key">Import Key</button>
						</form>
					</div>
				</div>
				<img src="img/white.svg" class="undraggable">
		</section>

		<section data-view="key">
			<div class="middle padded-2">
				<h1>Create your new Key Pair</h1>
				<form method="post" data-form="key" class="vertical align-center padded-2">
					<p>A new Key pair will be created with the passphrase you provide which should be at least 8 characters long.</p>
					<label>Encryption Passphrase:</label>
					<input type="password" name="passphrase" required="true" placeholder="Passphrase">
					<label>Repeat encryption Passphrase:</label>
					<input type="password" name="rpassphrase" required="true" placeholder="Passphrase">
					<button type="submit">Create Key Pair</button>
					<span data-content="status"></span>
				</form>
			</div>
		</section>


		<section data-view="offline-key">
			<div class="middle padded-2">
				<h1>Create your new Key Pair</h1>
				<form method="post" data-form="offline-key" class="vertical align-center padded-2">
					<p>A new key pair will be created with the passphrase you provide which should be at least 8 characters long. You must backup and keep this key save.</p>
					<label>Your Email:</label>
					<input type="email" name="user" required="true" placeholder="example@example.com">
					<label>Encryption Passphrase:</label>
					<input type="password" name="passphrase" required="true" placeholder="Passphrase">
					<label>Repeat encryption Passphrase:</label>
					<input type="password" name="rpassphrase" required="true" placeholder="Passphrase">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Create Key Pair</button>
					</div>
					<span data-content="status"></span>
				</form>
			</div>
		</section>

		<section data-view="encrypt-key">
			<div class="middle padded-2">
				<h1>Unlock your Key</h1>
				<form method="post" data-form="encrypt-key" class="vertical align-center padded-2">
					<p>You're importing a PGP key, please type your passphrase to unlock your key.</p>
					<label>Encryption Passphrase:</label>
					<input type="password" name="passphrase" required="true" placeholder="Passphrase">
					<label>Repeat encryption Passphrase:</label>
					<input type="password" name="rpassphrase" required="true" placeholder="Passphrase">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Import</button>
					</div>
					<span data-content="status"></span>
				</form>
			</div>
		</section>

		<section data-view="decrypt">
			<div class="middle padded-2">
				<h1>Decrypt Your Notes</h1>
				<form method="post" data-form="decrypt" class="vertical align-center padded-2">
					<p>Enter your passphrase to decrypt your notes</p>
					<label>Encryption Passphrase:</label>
					<input type="password" placeholder="Passphrase" name="passphrase" required="true">
					<button type="submit">Decrypt</button>
					<span data-content="status"></span>
				</form>
			</div>
		</section>

		<section data-view="editor">
			<div data-modal="insert-video" data-insert-element="Video">
				<form data-form="insert-video" class="vertical align-center padded-1">
					<label>Embed Code:</label>
					<textarea placeholder="Video Embed Code"></textarea>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>

			<div data-modal="insert-html" data-insert-element="Video">
				<form data-form="insert-html" class="vertical align-center padded-1">
					<label>HTML Code:</label>
					<textarea placeholder="HTML Code"></textarea>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>

			<div data-modal="edit-html" data-insert-element="Video">
				<form data-form="edit-html" class="vertical align-center padded-1">
					<label>HTML Code:</label>
					<textarea placeholder="HTML Code"></textarea>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Edit</button>
					</div>
				</form>
			</div>

			<div data-modal="insert-snippet" data-insert-element="Video">
				<form data-form="insert-snippet" class="vertical align-center padded-1">
					<label>Select a Language</label>
					<select name="language"></select>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>

			<div data-modal="insert-table" data-insert-element="Table">
				<form data-form="insert-table" class="vertical align-center padded-1">
					<label>Rows:</label>
					<input type="number" placeholder="Rows" data-input="rows" min="0" required="true">
					<label>Columns:</label>
					<input type="number" placeholder="Columns" data-input="columns" min="0" required="true">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>

			<div data-modal="insert-link" data-insert-element="Link">
				<form data-form="insert-link" class="vertical align-center padded-1">
					<label>Text to Show:</label>
					<input type="text" placeholder="Text" data-input="text" required="true">
					<label>URL to link to:</label>
					<input type="text" placeholder="Link" data-input="link" required="true">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>

			<div data-modal="insert-image" data-insert-element="Image">
				<form data-form="insert-image" class="vertical align-center padded-1">
					<label>Load local Image:</label>
					<button data-action='local-image' class="button">Select Image</button>
					<label>Image URL:</label>
					<input type="text" placeholder="www.example.com/image.png" required="true">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>

			<div data-modal="unsaved">
				<form data-form="unsaved" class="vertical align-center padded-1">
					<h2>You have unsaved changes, do you want to exit? This changes will be lost.</h2>
					<input type="hidden" required="true">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Exit</button>
					</div>
				</form>
			</div>

			<div class="side-nav unselectable">
	            <div class="editor-tools">
	                <div>
	                    <h3>Headers</h3>
	                    <button data-tool="h1" title="Header 1">H1</button>
	                    <button data-tool="h2" title="Header 2">H2</button>
	                    <button data-tool="h3" title="Header 3">H3</button>
	                    <button data-tool="h4" title="Header 4">H4</button>
	                    <button data-tool="h5" title="Header 5">H5</button>
	                    <button data-tool="h6" title="Header 6">H6</button>
	                </div>

	                <div>
	                    <h3>Style</h3>
	                    <button class="fa fa-bold" data-tool="bold"  title="Bold"></button>
	                    <button class="fa fa-italic" data-tool="italic"  title="Italic"></button>
	                    <button class="fa fa-underline" data-tool="underline"  title="Underline"></button>
	                    <button class="fa fa-strikethrough" data-tool="strikeThrough"  title="Strike Through"></button>
						<!--<button class="fa fa-pencil" data-tool="mark"  title="Highlight"></button>-->
	                    <div>
	                        <button class="fa fa-align-left" data-tool="Left" title="Align Left"></button>
	                        <button class="fa fa-align-center" data-tool="Center" title="Align Center"></button>
	                        <button class="fa fa-align-right" data-tool="Right" title="Align Right"></button>
	                        <button class="fa fa-align-justify" data-tool="Full" title="Justify"></button>
	                    </div>

	                    <div>
							<button class="fa fa-list-ul" data-tool="ul" title="Unordered List"></button>
		                    <button class="fa fa-list-ol" data-tool="ol" title="Ordered List"></button>
		                    <button class="fa fa-quote-right" data-tool="blockquote" title="Quote"></button>
						</div>
	                </div>

	                <div>
	                    <h3>Insert</h3>
	                    <div>
		                    <button class="fa fa-table" data-tool="table" title="Insert Table"></button>
		                    <button class="fa fa-picture-o" data-tool="image" title="Insert Image"></button>
		                    <button class="fa fa-video-camera" data-tool="video" title="Insert Video"></button>
							<button class="fa fa-link" data-tool="link" title="Insert Link"></button>
	                    </div>
	                    <div>
		                   <button class="fa fa-code" data-tool="insert-html" title="Insert Custom HTML"></button>
						   <button class="fa fa-file-code-o" data-tool="snippet" title="Insert Snippet"></button>

	                    </div>

	                </div>

	                <div>
	                    <h3>Actions</h3>
	                    <button class="fa fa-unlink" data-tool="unlink" title="Unlink"></button>
	                    <button class="fa fa-undo" data-tool="undo" title="Undo"></button>
	                    <button class="fa fa-repeat" data-tool="redo" title="Redo"></button>
	                    <button class="fa fa-gears" data-tool="edit-html" title="Edit HTML"></button>
	                </div>
	            </div>
	        </div>
			<nav class="top-nav">
				<ul>
					<li data-action="back"><span class="fa fa-arrow-left"></span> Back</li>
					<li data-action="preview"><span class="fa fa-eye"></span> View</li>
					<li data-action="save"><span class="fa fa-save"></span> Save</li>
				</ul>
			</nav>
			<div contenteditable="true" id="editor"></div>
		</section>

		<section data-view="share">
			<div class="middle padded-2">
				<h1>Share</h1>
					<form data-form="share" class="align-center padded-2 col s12 m6">
						<div class="row">
							<div class="col s12 m6 vertical">
								<h2>To a Skrifa User</h2>
								<label>If the person you want to share this note with has an Skrifa account, just type his username here and then press share.</label>
								<input type='text' name="username" placeholder="Username" required="true">
								<button type="submit">Share</button>
							</div>
						<div class="col s12 m6 vertical">
							<h2>Using a Public Key File</h2>
							<label>If you want to share this note using a public PGP key or Skrifa public key just select the format in which you want to share the note, plain text will remove all the rich content.</label>
							<div class="horizontal">
								<button data-action="pgp-skrifa">Skrifa Note</button>
								<button data-action="pgp-plain">PGP Plain Text Message</button>
							</div>
						</div>
						<div class="col s12 vertical">
							<span data-content="status"></span>
							<div>
								<button type="reset">Cancel</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</section>

		<section data-view="pgp-message">
			<div class="middle padded-2 align-center">
				<h1>Message</h1>
				<form method="post" data-form="pgp-message">
					<div>
						<button type="reset">Back</button>
						<button data-action="copy-message">Copy to Clipboard</button>
						<button type="submit">Write to File</button>

					</div>
				</form>
				<pre data-content="message"></pre>
			</div>
		</section>

		<section data-view="preview">
			<nav class="top-nav">
				<ul>
					<li data-action="back"><span class="fa fa-arrow-left"></span> Back</li>
					<li data-action="export"><span class="fa fa-download"></span> Export</li>
					<li data-action="share"><span class="fa fa-share"></span> Share</li>
					<li data-action="print"><span class="fa fa-print"></span> Print</li>
					<li data-action="edit"><span class='fa-pencil fa'></span> Edit</li>
				</ul>
			</nav>
			<div id="preview"></div>
		</section>

		<section data-view="new-notebook">
			<div class="middle padded-2">
				<h1>New Notebook</h1>
				<form method="post" data-form="new-notebook" class="vertical align-center padded-2">

					<label>Name:</label>
					<input type="text" placeholder="Notebook's name" data-input="name" required="true">
					<label>Description:</label>
					<input type="text" placeholder="What this notebook is for" data-input="description">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>
		</section>

		<section data-view="edit-notebook">
			<div class="middle padded-2">
				<h1>Edit Notebook</h1>
				<form method="post" data-form="edit-notebook" class="vertical align-center padded-2">
					<label>Name:</label>
					<input type="text" placeholder="Notebook's name" data-input="name" required="true">
					<label>Description:</label>
					<input type="text" placeholder="What this notebook is for" data-input="description">
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Save</button>
					</div>
				</form>

		</section>

		<section data-view="delete-notebook">
			<div class="middle padded-2">
				<h1>Delete Notebook</h1>
				<form method="post" data-form="delete-notebook" class="vertical align-center padded-2">
					<p>What should happen to the notes currently inside this notebook?</p>
					<p><input type='radio' name='strategy' value="move" required="true"> Move Notes to Inbox</p>
					<p><input type='radio' name='strategy' value="delete" required="true"> Delete Everything</p>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Delete</button>
					</div>
				</form>
			</div>
		</section>

		<section data-view="export-note">
			<div class="middle padded-2">
				<h1>Export Note As:</h1>
				<form method="post" data-form="export-note" class="align-center padded-2">
					<p>Remember that only the Skrifa Note format will remain encrypted, by exporting your note to any other format your content can be viewed by anyone. Select the format you want to export your note in.</p>
					<button data-action="export-skf">Skrifa Note</button>
					<button data-action="export-skrifa">Skrifa Lite Note</button>
					<button data-action="export-md">Markdown</button>
					<button data-action="export-html">HTML</button>
					<button data-action="export-pdf">PDF</button>
					<div>
						<button type="reset">Cancel</button>
					</div>
				</form>
			</div>
		</section>

		<section data-view="notes">
			<div data-modal="delete-note">
				<form data-form="delete-note" class="vertical align-center padded-1">
					<h2>Are you sure you want to delete this note?</h2>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Delete</button>
					</div>
				</form>
			</div>
			<span class="menu-icon fa fa-bars" data-menu="notes"></span>
			<nav class="side-nav">
				<ul data-content='notebook-list'>
					<li data-notebook="Inbox">Inbox</li>
				</ul>
			</nav>

			<div class="wrapper">
				<nav class="top-nav">
					<div class="logo align-center padded-1">
						<h1>Inbox</h1>
						<small>A place for any note</small>
					</div>
				    <ul>
						<li data-action="new-note" class="vertical"><span class="fa fa-plus"></span><small>New Note</small></li>
						<li data-action="import-note" class="vertical"><span class="fa fa-upload"></span><small>Import Note</small></li>
						<li data-action="new-notebook" class="vertical"><span class="fa fa-book"></span><small>New Notebook</small></li>
						<li data-action="edit-notebook" class="vertical"><span class="fa fa-pencil"></span><small>Edit Notebook</small></li>
						<li data-action="delete-notebook" class="vertical"><span class="fa fa-trash"></span><small>Delete Notebook</small></li>
						<li data-action="settings" class="vertical"><span class="fa fa-cog"></span><small>Settings</small></li>
						<li data-action="update" class="vertical"><span class="fa fa-cloud-download"></span><small>New Version Available</small></li>
				    </ul>
				</nav>
				<div class="align-center" data-content="welcome">
					<h2>Add some notes</h2>
					<p>Your notebook is empty, press the plus (+) button on the top bar to create a note.</p>
				</div>


				<div data-content="note-container" class="grid">

				</div>
			</div>
		</section>

		<section data-view="settings">
			<div data-modal="migrate-backup">
				<form data-form="migrate-backup" class="vertical align-center padded-1">
					<h2>Migration Backup</h2>
					<p>Please enter your passphrase to continue. You will now have to choose the new key you'll be migrating to and then the location you want to save your backup to.</p>
					<input type="password" name="passphrase" required="true" placeholder="Passphrase">
					<span class="status"></span>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Migrate</button>
					</div>
				</form>
			</div>

			<div data-modal="skrup-backup">
				<form data-form="skrup-backup" class="vertical align-center padded-1">
					<h2>Create an Unencrypted Backup</h2>
					<p>This allows the creation of a backup that you can then import to any Skrifa app, however this backup will not be encrypted and thus the notes in it can be read by anyone. Pleas eneter your password to continue:</p>
					<input type="password" name="passphrase" required="true" placeholder="Passphrase">
					<span class="status"></span>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Create</button>
					</div>
				</form>
			</div>

			<div data-modal="clear-data">
				<form data-form="clear-data" class="vertical align-center padded-1">
					<h2>Clear Data</h2>
					<p>Please enter your passphrase to continue. Remember this action is definitive, use with precaution!</p>
					<input type="password" name="passphrase" required="true" placeholder="Passphrase">
					<span class="status"></span>
					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Clear</button>
					</div>
				</form>
			</div>
			<div class="middle padded-1">
				<h1>Settings</h1>
				<form method="post" data-form="settings" class="vertical align-center padded-2">
					<div class="vertical align-center">
						<h2>Notes Sorting Order</h2>
						<select data-action='change-sort'>
							<option value="older">Older First</option>
							<option value="newer">Newer First</option>
						</select>
					</div>
					<div class="vertical align-center">
						<h2>Image quality</h2>
						<p>Select the image quality for compression (currently only for PNG):</p>
						<select data-input='imageCompression'>
							<option value="good">Good</option>
							<option value="better">Better</option>
							<option value="best">Best</option>
						</select>
					</div>
					<div class="vertical align-center">
						<h2>Theme</h2>
						<select data-action='change-theme'>
							<option value="light">Light</option>
							<option value="dark">Dark</option>
							<option value="ghost">Ghost</option>
						</select>
					</div>
					<div class="vertical align-center">
						<h2>Backup</h2>
						<p>Restoring from a backup will delete all your notes and notebooks and replace them with the backup content.</p>
						<div>
							<button data-action="import-backup">Restore from Backup</button>
							<button data-action="create-backup">Create Backup</button>
							<button data-action="skrup-backup">Create Unencrypted Backup</button>
						</div>
					</div>
					<div class="vertical align-center">
						<h2>Key Management</h2>
						<p>Migration Backup will generate a backup file that will allow you to migrate all your notes in case you want to change your key pair.</p>
						<div>
							<button data-action="export-public-key">Export Public Key</button>
							<button data-action="migrate-backup">Migration Backup</button>
						</div>
					</div>

					<div class="vertical align-center">
						<h2>App Management</h2>
						<p>Clearing your storage will delete all your notes, notebooks and information from the app, please use with extreme precaution</p>
						<div>
							<button data-action="clear-data">Clear Storage</button>
						</div>
					</div>

					<div>
						<button type="reset">Cancel</button>
						<button type="submit">Ok</button>
					</div>
				</form>
			</div>
		</section>

	</body>
</html>
